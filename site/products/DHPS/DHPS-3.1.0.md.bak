---
title: DHPS
template: content-template.html
tags: 
- Hydrology
- Discharge
- Real-time forecast 
---

## **Deterministic Hydrologic Prediction System (DHPS)**

### **Overview**

<p>
DHPS is a river routing system that is part of Environment Canada's GEM-Hydro forecasting system,
and is the river routing component of <a href = "../../NSRPS/nsrps-3.1.0"> NSRPS </a>. DHPS performs the routing of liquid water leaving the surface
model, which is then conveyed in streams and lakes throughout the modelling domain. DHPS only routes water generated by the surface model, and generally
does not add or remove water to or from the outputs of the surface model. DHPS both analyses and forecasts water routed from <a href = "../../CALDAS-SAT/CALDAS-SAT-2.1.3"> CaLDAS-Sat </a> and <a href = "../../HRDLPS/HRDLPS-2.0"> HRDLPS </a>(respectively) through a river basin’s lakes and 
rivers at a 1-km grid resolution. It simulates lake levels for defined lakes (listed below) or reservoirs and streamflow for all other points 
throughout the domain. DHPS is based on the Watroute routing scheme, and has the ability to represent reservoirs with a natural behavior as well as flow diversions.
DHPS also assimilates streamflow observations during the data assimilation cycle. Currently, DHPS  assimilates 
observations from ECCC’s Water Survey of Canada, USGS, and the provincial networks of river gauges in Quebec and Alberta.
</p>

** Current version: ** 3.1.0
<br>
<!-- ** Past versions: **

* [x.x](./previous_versions/old_version.md)
* [x.x](./previous_versions/old_version.md) -->

### **What is the spatial resolution and coverage of this data?**

<p> 
Outputs from DHPS are currently implemented at a 1-km resolution over six major river basins representing ~50% of Canada.

DHPS is currently established in the following basins: 
<ul>
<li> Yukon River Basin </li>
<li> Mackenzie River Basin </li>
<li> Nelson River Basin  </li>
<li> Churchill River Basin </li>
<li> Great Lakes and St. Lawrence River Basin </li>
</ul> 
</p>

DHPS also estimates the water budget of large specified water bodies, which include:
<li> The five Laurentian Great Lakes </li>
<li> Lake Champlain </li>
<li> Lake Athabasca  </li>
<li> Great Slave Lake </li>
<li> Great Bear Lake </li>

![alt text](domain-images/NSRPS_domain.png)

### **What is available?**

<details>
<summary>What is the timestep and time period covered by this data? </summary>
<br>
Twice a day, launching at 00 and 12 UTC, DHPS performs a 12-h data assimilation cycle followed by a 6-day forecast
</details>

<details>
<br>
<summary>What are the outputs from this product? </summary>
<h5> DHPS produces analyses in near real-time and forecasts over the next six days. From the analyses and forecasts, DHPS provides hourly estimates of: </h5>
<ul>
<li>River discharge and;</li>
<li>The volume of water stored in the river channel or at the outlet of an explicitly represented natural lake or regulated reservoir</li>
</ul>
<h5>DHPS also provides analyses and forecasts of some variables averaged over the surface of specified large lakes (listed above) during successive 12-hour periods. Those variables are:</h5>
<ul>
<li>Precipitation</li>
<li>Evaporation</li>
<li>Terrestrial runoff</li>
</ul>
<h5>Outputs currently available via NetCDF</h5>
<div class="table-wrapper">
	<table>
		<thead>
			<tr>
				<th>Variable </th>
				<th>Variable long name</th>
				<th>Unit </th>
				<th>Level </th>
				<th>Frequency (analysis/forecast) </th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>DISC </td>
				<td>Mean discharge value exiting the river channel over the hour ending at the indicated time</td>
				<td>m**3/s</td>
				<td>Surface</td>
				<td>1h/1h</td>
			</tr>
			<tr>
				<td>STOR </td>
				<td>Volume of water stored in the river channel or outlet of an explicitly represented natural lake or regulated reservoir (m3)</td>
				<td>m**3</td>
				<td>surface</td>
				<td>12h/24h</td>
			</tr>
			<tr>
				<td>LZS </td>
				<td>Depth of water in the lower zone storage or subterranean reservoir</td>
				<td>kg/m2</td>
				<td>surface</td>
				<td>12h/24h</td>
			</tr>
			<tr>
				<td>PRWM </td>
				<td>Precipitation averaged over a lake’s surface. See <i> Spatial domain and coverage </i> for more information </td>
				<td>mm</td>
				<td>surface</td>
				<td>12h/24h</td>
			</tr>
			<tr>
				<td>EVWM </td>
				<td>Evaporation averaged over a lake’s surface. See <i> Spatial domain and coverage </i> for more information </td>
				<td>mm</td>
				<td>surface</td>
				<td>12h/24h</td>
			</tr>
			<tr>
				<td>RUNF </td>
				<td>Terrestrial runoff averaged over a lake’s surface. See <i> Spatial domain and coverage </i> for more information </td>
				<td>mm</td>
				<td>surface</td>
				<td>12h/24h</td>
			</tr>
			<tr>
				<td>DIRF </td>
				<td>Flow directions used to calculate the river network </td>
				<td>-</td>
				<td>-</td>
				<td>constant</td>
			</tr>
			<tr>
				<td>DA </td>
				<td>The area of the terrain draining to each grid cell.</td>
				<td>km2</td>
				<td>-</td>
				<td>constant</td>
			</tr>
			<tr>
				<td>REAC </td>
				<td> Explicitly represented natural lake or regulated reservoir.</td>
				<td>-</td>
				<td>-</td>
				<td>constant</td>
			</tr>
		</tbody>
	</table>
</div>
</details>

<details>
<summary>How do I access the data? </summary>
<br>
<p> <i> Currently DHPS data is only available through ECCC's internal Science Network</i> </p>
</details>


<details>
<summary>What is the file structure and format?</summary>
<br>
<i> Currently DHPS data is available in NetCDF file format, click   <a href = "../../../data_access/file_formats/file_formats">  here  </a>  information on file formats  </i>
<br>
<br>
<h4> <i>.tar</i> package for each run contains the following: </h4>
<ul>
<li> <code> Analysis_River-Discharge</code>Twelve hours of river discharge analyses. The analyses correspond to the hour preceding the issue hour.For example, the <code> YYYYMMDDT13Z </code> file contains analysis for the hour starting 12:00Z and ending 12:59Z.  </li>
<li> <code> Storage-River-Channel </code> River channel storage forecasts. There are six files, one for every 24 forecast hours from 24 to 144 hours.  </li>
<li><code> Storage-LowZone </code> Contains Depth of water in the lower zone storage or subterranean reservoir (kg/m2). Refer to the technical documentation for a detailed description of LZS in WATROUTE. </li>
<li> Average of twelve hours of spatial analyses for evaporation(<code>Analysis_Evap-SpatialAvg12h</code>), precipitation(<code>Analysis_Precip-SpatialAvg12 </code>), and total runoff (<code>Analysis_Total-Runoff-Avg12h</code>) for the Great Lakes, Great Slave Lake, Great Bear Lake, Lake Athabasca, and Lake St. Clair.
 Evaporation and precipitation are averaged over the lake area. Runoff represents the total runoff into a body of water from its immediate watershed, distributed over the surface of that body of water or its immediate watershed. In the resulting files, every lake grid cell contains the spatial-temporal average value for the given variable.   </li>
<li><code> Drainage-Area </code> This is a constant field that defines the area of the terrain that drains into a given grid cell, including the grid cell itself.  </li>
<li><code> FlowDir-Corrected </code> Containing corrected flow directions underlying the river network of a modelling domain. Values range from 1 to 128, incremented by powers of 2, progressing clockwise starting from 1 to indicate East and ending with 128 to indicate Northeast. All bodies of water that are represented explicitly by the model are assigned a value of 256.  </li>
<li><code> Waterbody-ID </code> This file contains all bodies of water that are processed by the river-routing model explicitly. They are indexed numerically, starting at one. There are separate indexes for each basin, so as a result, the are six “1”s in this file. For additional details, please see the technical note.  </li>
<li><code> River-Discharge</code> Forecasted river discharge. There are a total of 144 files, one for each forecast hour.  </li>
<li> Forecasts of 12-hour accumulations of spatially averaged evaporation (<code>Evap-SpatialAvg</code>), precipitation (<code>Precip-SpatialAvg</code>), and runoff(<code> Total-Runoff-Avg </code>). There are 12 files,one for every 12 forecast hours from 12 to 144 hours. (012H to 144H). Evaporation and precipitation are averaged over the lake area. Runoff represents the total runoff into a body of water from its immediate watershed, distributed over the surface of that body of water or its immediate watershed. In the resulting files, every lake grid cell contains the spatial-temporal average value for the given variable.</li>
</ul>
</details>

<details>
<summary> What is the status of this product? </summary>
<br>
<b>Current Status</b>: Operational
<br>
<p> click   <a href = "../../../additional_information/operational-statuses/operational-status">  here  </a>  for descriptions of various operational statuses </p>
<h5> Note: Multiple sets of data exist under different suites and operational statuses </h5>
<div class="table-wrapper">
	<table>
		<thead>
			<tr>
				<th>Run type </th>
				<th>Valid dates</th>
				<th>Product type </th>
				<th>Comment </th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Operational </td>
				<td> 2021/12/01 12Z to Present</td>
				<td>Analysis and Forecast</td>
				<td> Fully operational IC3 product suite</td>
			</tr>
			<tr>
				<td>Experimental (not an actual 'run type') </td>
				<td> 2021/11/21 12Z to 2021/12/01 00Z</td>
				<td>Forecast</td>
				<td> - </td>
			</tr>
			<tr>
				<td>Experimental (not an actual 'run type') </td>
				<td> 021/11/21 00Z to 2021/11/30 12Z</td>
				<td>Analysis</td>
				<td> - </td>
			</tr>
			<tr>
				<td>Experimental (not an actual 'run type') </td>
				<td> gls, nel: from 2019/07/17 00Z; chu: from 2020/03/01 00Z; gsl, mck, yuk: from 2020/06/01 00Z):  </td>
				<td>Forecast and Analysis</td>
				<td> Available on the archive</td>
			</tr>
	</table>
</div>
</details>
### **Where can I find additional information?**
** [Technical note](documentation/Tech_note_dhps_v310_e_Final_20210915.pdf) **
<br>
** [Specifications](./) **
<br>
** [Change log](../Status_definitions/status.md) **

### **License**

The [End-User Licence for Environment and Climate Change Canada's Data Servers](../../license/license.md) specifies the conditions of use of this data.
